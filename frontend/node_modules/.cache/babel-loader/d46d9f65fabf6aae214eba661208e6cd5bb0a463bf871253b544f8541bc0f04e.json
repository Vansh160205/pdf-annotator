{"ast":null,"code":"var _jsxFileName = \"D:\\\\pdf demo\\\\frontend\\\\src\\\\components\\\\CloudStoragePanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useMutation, useQuery } from 'react-query';\nimport { cloudStorageAPI } from '../services/api';\nimport { useGoogleAuth } from '../hooks/useGoogleAuth';\nimport { Cloud, Upload, Download, Link, FileText, Trash2, ExternalLink, RefreshCw, X, Check, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CloudStoragePanel = ({\n  pdfUuid,\n  onClose,\n  onImport\n}) => {\n  _s();\n  var _userPDFs$data, _userPDFs$data$pdfs, _cloudFiles$data, _cloudFiles$data$clou;\n  const [activeTab, setActiveTab] = useState('upload');\n  const [selectedPDFs, setSelectedPDFs] = useState([]); // Changed from selectedFiles\n  const [driveFiles, setDriveFiles] = useState([]);\n  const [nextPageToken, setNextPageToken] = useState(null);\n  const {\n    isAuthenticated,\n    accessToken,\n    isLoading: authLoading,\n    error: authError,\n    authenticate,\n    logout\n  } = useGoogleAuth();\n\n  // Get user's PDFs\n  const {\n    data: userPDFs,\n    isLoading: pdfsLoading\n  } = useQuery('userPDFs', cloudStorageAPI.getUserPDFs, {\n    enabled: isAuthenticated,\n    onError: error => {\n      console.error('Failed to load user PDFs:', error);\n      toast.error('Failed to load your PDFs');\n    }\n  });\n\n  // Upload mutation - Modified to handle multiple uploads\n  const uploadMutation = useMutation(({\n    pdfUuid,\n    accessToken\n  }) => cloudStorageAPI.upload({\n    pdfUuid,\n    accessToken\n  }), {\n    onSuccess: data => {\n      toast.success('PDF uploaded to Google Drive successfully!');\n      refetchCloudFiles();\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast.error('Upload failed: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    }\n  });\n  const deleteMutation = useMutation(cloudStorageAPI.deleteCloudFile, {\n    onSuccess: () => {\n      toast.success('Cloud file deleted successfully!');\n      refetchCloudFiles(); // Refresh the cloud files list\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      toast.error('Delete failed: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message));\n    }\n  });\n\n  // Import mutation\n  const importMutation = useMutation(cloudStorageAPI.import, {\n    onSuccess: data => {\n      toast.success('PDF imported from Google Drive successfully!');\n      if (onImport) {\n        onImport(data.data.pdf);\n      }\n    },\n    onError: error => {\n      var _error$response3, _error$response3$data;\n      toast.error('Import failed: ' + (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message));\n    }\n  });\n\n  // List files mutation\n  const listFilesMutation = useMutation(cloudStorageAPI.listFiles, {\n    onSuccess: data => {\n      if (nextPageToken) {\n        setDriveFiles(prev => [...prev, ...data.data.files]);\n      } else {\n        setDriveFiles(data.data.files);\n      }\n      setNextPageToken(data.data.nextPageToken);\n    },\n    onError: error => {\n      var _error$response4, _error$response4$data;\n      toast.error('Failed to load files: ' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message));\n    }\n  });\n\n  // Get cloud files for this PDF\n  const {\n    data: cloudFiles,\n    refetch: refetchCloudFiles\n  } = useQuery(['cloudFiles', pdfUuid], () => cloudStorageAPI.getCloudFiles(pdfUuid), {\n    enabled: !!pdfUuid && isAuthenticated,\n    onError: error => {\n      console.error('Failed to load cloud files:', error);\n    }\n  });\n\n  // Load Google Drive files when authenticated\n  useEffect(() => {\n    if (isAuthenticated && accessToken && activeTab === 'browse') {\n      loadDriveFiles();\n    }\n  }, [isAuthenticated, accessToken, activeTab]);\n  const loadDriveFiles = (pageToken = null) => {\n    setNextPageToken(pageToken);\n    listFilesMutation.mutate({\n      accessToken,\n      pageToken\n    });\n  };\n\n  // Handle PDF selection\n  const handlePDFSelection = (pdfUuid, isSelected) => {\n    if (isSelected) {\n      setSelectedPDFs(prev => [...prev, pdfUuid]);\n    } else {\n      setSelectedPDFs(prev => prev.filter(uuid => uuid !== pdfUuid));\n    }\n  };\n\n  // Handle upload of selected PDFs\n  const handleUploadSelected = async () => {\n    if (!accessToken) {\n      toast.error('Not authenticated with Google Drive');\n      return;\n    }\n    if (selectedPDFs.length === 0) {\n      toast.error('Please select at least one PDF to upload');\n      return;\n    }\n    try {\n      // Upload each selected PDF\n      for (const pdfUuid of selectedPDFs) {\n        await uploadMutation.mutateAsync({\n          pdfUuid,\n          accessToken\n        });\n      }\n\n      // Clear selections after successful upload\n      setSelectedPDFs([]);\n      toast.success(`Successfully uploaded ${selectedPDFs.length} PDF(s) to Google Drive!`);\n    } catch (error) {\n      console.error('Upload error:', error);\n    }\n  };\n  const handleDelete = cloudFileUuid => {\n    if (!accessToken) {\n      toast.error('Not authenticated with Google Drive');\n      return;\n    }\n\n    // Show confirmation dialog\n    if (window.confirm('Are you sure you want to remove this file from the cloud storage list? This will not delete the file from Google Drive.')) {\n      deleteMutation.mutate({\n        cloudFileUuid,\n        accessToken,\n        deleteFromCloud: false // Set to true if you want to delete from Google Drive as well\n      });\n    }\n  };\n  const handleImport = file => {\n    if (!accessToken) {\n      toast.error('Not authenticated with Google Drive');\n      return;\n    }\n    importMutation.mutate({\n      fileId: file.id,\n      accessToken,\n      fileName: file.name\n    });\n  };\n  const formatFileSize = bytes => {\n    if (!bytes) return 'Unknown';\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-4xl h-3/4 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Cloud, {\n            className: \"h-6 w-6 mr-2 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), \"Google Drive Integration\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700 p-1\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 bg-gray-50 border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-3 w-3 rounded-full mr-3 ${isAuthenticated ? 'bg-green-500' : 'bg-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: isAuthenticated ? 'Connected to Google Drive' : 'Not connected'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), isAuthenticated ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: logout,\n            className: \"px-4 py-2 text-sm text-red-600 hover:text-red-700 border border-red-200 rounded-lg hover:bg-red-50\",\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: authenticate,\n            disabled: authLoading,\n            className: \"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\",\n            children: [authLoading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-4 w-4 mr-2 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Cloud, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this), authLoading ? 'Connecting...' : 'Connect to Google Drive']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), authError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex items-center text-red-600 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-4 w-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), authError]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-1\",\n          children: [{\n            id: 'upload',\n            label: 'Upload to Drive',\n            icon: Upload\n          }, {\n            id: 'browse',\n            label: 'Browse Drive',\n            icon: FileText\n          }, {\n            id: 'manage',\n            label: 'Manage Files',\n            icon: Link\n          }].map(tab => {\n            const Icon = tab.icon;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab(tab.id),\n              className: `px-4 py-3 text-sm font-medium border-b-2 flex items-center ${activeTab === tab.id ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'}`,\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this), tab.label]\n            }, tab.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-auto\",\n        children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center h-full text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Cloud, {\n            className: \"h-16 w-16 text-gray-300 mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-medium text-gray-900 mb-2\",\n            children: \"Connect to Google Drive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 mb-6 max-w-md\",\n            children: \"Connect your Google Drive account to upload, download, and manage your PDF files in the cloud.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: authenticate,\n            disabled: authLoading,\n            className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\",\n            children: [authLoading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-5 w-5 mr-2 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Cloud, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this), authLoading ? 'Connecting...' : 'Connect to Google Drive']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [activeTab === 'upload' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium mb-2\",\n                children: \"Select PDFs to Upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-6\",\n                children: \"Choose which PDFs from your library to upload to Google Drive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this), pdfsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center py-8\",\n              children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-8 w-8 animate-spin text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 21\n            }, this) : (userPDFs === null || userPDFs === void 0 ? void 0 : (_userPDFs$data = userPDFs.data) === null || _userPDFs$data === void 0 ? void 0 : (_userPDFs$data$pdfs = _userPDFs$data.pdfs) === null || _userPDFs$data$pdfs === void 0 ? void 0 : _userPDFs$data$pdfs.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-h-64 overflow-y-auto border rounded-lg\",\n                children: userPDFs.data.pdfs.map(pdf => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center p-4 border-b last:border-b-0 hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: `pdf-${pdf.uuid}`,\n                    checked: selectedPDFs.includes(pdf.uuid),\n                    onChange: e => handlePDFSelection(pdf.uuid, e.target.checked),\n                    className: \"h-4 w-4 text-blue-600 rounded mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"h-8 w-8 text-red-500 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `pdf-${pdf.uuid}`,\n                      className: \"font-medium cursor-pointer\",\n                      children: pdf.originalName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [formatFileSize(pdf.fileSize), \" \\u2022 Created \", formatDate(pdf.createdAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 29\n                  }, this)]\n                }, pdf.uuid, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [selectedPDFs.length, \" of \", userPDFs.data.pdfs.length, \" PDFs selected\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleUploadSelected,\n                  disabled: uploadMutation.isLoading || selectedPDFs.length === 0,\n                  className: \"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\",\n                  children: [uploadMutation.isLoading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                    className: \"h-5 w-5 mr-2 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n                    className: \"h-5 w-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 29\n                  }, this), uploadMutation.isLoading ? 'Uploading...' : `Upload Selected (${selectedPDFs.length})`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"h-16 w-16 mx-auto text-gray-300 mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No PDFs found in your library.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Upload some PDFs first to sync them with Google Drive.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this), activeTab === 'browse' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium\",\n                children: \"Browse Google Drive Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => loadDriveFiles(),\n                disabled: listFilesMutation.isLoading,\n                className: \"px-3 py-2 text-sm border rounded-lg hover:bg-gray-50 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: `h-4 w-4 mr-2 ${listFilesMutation.isLoading ? 'animate-spin' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this), \"Refresh\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 19\n            }, this), listFilesMutation.isLoading && driveFiles.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center py-8\",\n              children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-8 w-8 animate-spin text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [driveFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"h-8 w-8 text-red-500 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: file.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [formatFileSize(file.size), \" \\u2022 Modified \", formatDate(file.modifiedTime)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [file.webViewLink && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => window.open(file.webViewLink, '_blank'),\n                    className: \"p-2 text-blue-600 hover:bg-blue-50 rounded\",\n                    title: \"View in Google Drive\",\n                    children: /*#__PURE__*/_jsxDEV(ExternalLink, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleImport(file),\n                    disabled: importMutation.isLoading,\n                    className: \"px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center\",\n                    children: [importMutation.isLoading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                      className: \"h-4 w-4 mr-1 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(Download, {\n                      className: \"h-4 w-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 33\n                    }, this), \"Import\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 27\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 25\n              }, this)), driveFiles.length === 0 && !listFilesMutation.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-8 text-gray-500\",\n                children: \"No PDF files found in your Google Drive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 25\n              }, this), nextPageToken && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center pt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => loadDriveFiles(nextPageToken),\n                  disabled: listFilesMutation.isLoading,\n                  className: \"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50\",\n                  children: \"Load More Files\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this), activeTab === 'manage' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-lg font-medium\",\n              children: \"Manage Cloud Files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 5\n            }, this), (cloudFiles === null || cloudFiles === void 0 ? void 0 : (_cloudFiles$data = cloudFiles.data) === null || _cloudFiles$data === void 0 ? void 0 : (_cloudFiles$data$clou = _cloudFiles$data.cloudFiles) === null || _cloudFiles$data$clou === void 0 ? void 0 : _cloudFiles$data$clou.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: cloudFiles.data.cloudFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-4 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"h-8 w-8 text-blue-500 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: file.fileName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [formatFileSize(file.fileSize), \" \\u2022 Uploaded \", formatDate(file.createdAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [file.webViewLink && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => window.open(file.webViewLink, '_blank'),\n                    className: \"p-2 text-blue-600 hover:bg-blue-50 rounded\",\n                    title: \"View in Google Drive\",\n                    children: /*#__PURE__*/_jsxDEV(ExternalLink, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 19\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDelete(file.uuid),\n                    disabled: deleteMutation.isLoading,\n                    className: \"p-2 text-red-600 hover:bg-red-50 rounded disabled:opacity-50\",\n                    title: \"Remove from list\",\n                    children: deleteMutation.isLoading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                      className: \"h-4 w-4 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 19\n                    }, this) : /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 19\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 13\n                }, this)]\n              }, file.uuid, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 11\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 7\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: \"No cloud files found for this PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n};\n_s(CloudStoragePanel, \"QeSIHchIYz0Fu3qFln4iqVzGza8=\", false, function () {\n  return [useGoogleAuth, useQuery, useMutation, useMutation, useMutation, useMutation, useQuery];\n});\n_c = CloudStoragePanel;\nexport default CloudStoragePanel;\nvar _c;\n$RefreshReg$(_c, \"CloudStoragePanel\");","map":{"version":3,"names":["React","useState","useEffect","useMutation","useQuery","cloudStorageAPI","useGoogleAuth","Cloud","Upload","Download","Link","FileText","Trash2","ExternalLink","RefreshCw","X","Check","AlertCircle","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","CloudStoragePanel","pdfUuid","onClose","onImport","_s","_userPDFs$data","_userPDFs$data$pdfs","_cloudFiles$data","_cloudFiles$data$clou","activeTab","setActiveTab","selectedPDFs","setSelectedPDFs","driveFiles","setDriveFiles","nextPageToken","setNextPageToken","isAuthenticated","accessToken","isLoading","authLoading","error","authError","authenticate","logout","data","userPDFs","pdfsLoading","getUserPDFs","enabled","onError","console","uploadMutation","upload","onSuccess","success","refetchCloudFiles","_error$response","_error$response$data","response","message","deleteMutation","deleteCloudFile","_error$response2","_error$response2$data","importMutation","import","pdf","_error$response3","_error$response3$data","listFilesMutation","listFiles","prev","files","_error$response4","_error$response4$data","cloudFiles","refetch","getCloudFiles","loadDriveFiles","pageToken","mutate","handlePDFSelection","isSelected","filter","uuid","handleUploadSelected","length","mutateAsync","handleDelete","cloudFileUuid","window","confirm","deleteFromCloud","handleImport","file","fileId","id","fileName","name","formatFileSize","bytes","sizes","i","Math","floor","log","round","pow","formatDate","dateString","Date","toLocaleDateString","className","children","_jsxFileName","lineNumber","columnNumber","onClick","disabled","label","icon","map","tab","Icon","pdfs","type","checked","includes","onChange","e","target","htmlFor","originalName","fileSize","createdAt","size","modifiedTime","webViewLink","open","title","_c","$RefreshReg$"],"sources":["D:/pdf demo/frontend/src/components/CloudStoragePanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { cloudStorageAPI } from '../services/api';\r\nimport { useGoogleAuth } from '../hooks/useGoogleAuth';\r\nimport { \r\n  Cloud, \r\n  Upload, \r\n  Download, \r\n  Link, \r\n  FileText, \r\n  Trash2, \r\n  ExternalLink,\r\n  RefreshCw,\r\n  X,\r\n  Check,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst CloudStoragePanel = ({ pdfUuid, onClose, onImport }) => {\r\n  const [activeTab, setActiveTab] = useState('upload');\r\n  const [selectedPDFs, setSelectedPDFs] = useState([]); // Changed from selectedFiles\r\n  const [driveFiles, setDriveFiles] = useState([]);\r\n  const [nextPageToken, setNextPageToken] = useState(null);\r\n  \r\n  const {\r\n    isAuthenticated,\r\n    accessToken,\r\n    isLoading: authLoading,\r\n    error: authError,\r\n    authenticate,\r\n    logout\r\n  } = useGoogleAuth();\r\n\r\n  // Get user's PDFs\r\n  const { data: userPDFs, isLoading: pdfsLoading } = useQuery(\r\n    'userPDFs',\r\n    cloudStorageAPI.getUserPDFs,\r\n    {\r\n      enabled: isAuthenticated,\r\n      onError: (error) => {\r\n        console.error('Failed to load user PDFs:', error);\r\n        toast.error('Failed to load your PDFs');\r\n      }\r\n    }\r\n  );\r\n\r\n  // Upload mutation - Modified to handle multiple uploads\r\n  const uploadMutation = useMutation(\r\n    ({ pdfUuid, accessToken }) => cloudStorageAPI.upload({ pdfUuid, accessToken }),\r\n    {\r\n      onSuccess: (data) => {\r\n        toast.success('PDF uploaded to Google Drive successfully!');\r\n        refetchCloudFiles();\r\n      },\r\n      onError: (error) => {\r\n        toast.error('Upload failed: ' + (error.response?.data?.error || error.message));\r\n      }\r\n    }\r\n  );\r\n\r\n  const deleteMutation = useMutation(cloudStorageAPI.deleteCloudFile, {\r\n  onSuccess: () => {\r\n    toast.success('Cloud file deleted successfully!');\r\n    refetchCloudFiles(); // Refresh the cloud files list\r\n  },\r\n  onError: (error) => {\r\n    toast.error('Delete failed: ' + (error.response?.data?.error || error.message));\r\n  }\r\n});\r\n\r\n  // Import mutation\r\n  const importMutation = useMutation(cloudStorageAPI.import, {\r\n    onSuccess: (data) => {\r\n      toast.success('PDF imported from Google Drive successfully!');\r\n      if (onImport) {\r\n        onImport(data.data.pdf);\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Import failed: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  });\r\n\r\n  // List files mutation\r\n  const listFilesMutation = useMutation(cloudStorageAPI.listFiles, {\r\n    onSuccess: (data) => {\r\n      if (nextPageToken) {\r\n        setDriveFiles(prev => [...prev, ...data.data.files]);\r\n      } else {\r\n        setDriveFiles(data.data.files);\r\n      }\r\n      setNextPageToken(data.data.nextPageToken);\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Failed to load files: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  });\r\n\r\n  // Get cloud files for this PDF\r\n  const { data: cloudFiles, refetch: refetchCloudFiles } = useQuery(\r\n    ['cloudFiles', pdfUuid],\r\n    () => cloudStorageAPI.getCloudFiles(pdfUuid),\r\n    {\r\n      enabled: !!pdfUuid && isAuthenticated,\r\n      onError: (error) => {\r\n        console.error('Failed to load cloud files:', error);\r\n      }\r\n    }\r\n  );\r\n\r\n  // Load Google Drive files when authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated && accessToken && activeTab === 'browse') {\r\n      loadDriveFiles();\r\n    }\r\n  }, [isAuthenticated, accessToken, activeTab]);\r\n\r\n  const loadDriveFiles = (pageToken = null) => {\r\n    setNextPageToken(pageToken);\r\n    listFilesMutation.mutate({\r\n      accessToken,\r\n      pageToken\r\n    });\r\n  };\r\n\r\n  // Handle PDF selection\r\n  const handlePDFSelection = (pdfUuid, isSelected) => {\r\n    if (isSelected) {\r\n      setSelectedPDFs(prev => [...prev, pdfUuid]);\r\n    } else {\r\n      setSelectedPDFs(prev => prev.filter(uuid => uuid !== pdfUuid));\r\n    }\r\n  };\r\n\r\n  // Handle upload of selected PDFs\r\n  const handleUploadSelected = async () => {\r\n    if (!accessToken) {\r\n      toast.error('Not authenticated with Google Drive');\r\n      return;\r\n    }\r\n\r\n    if (selectedPDFs.length === 0) {\r\n      toast.error('Please select at least one PDF to upload');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Upload each selected PDF\r\n      for (const pdfUuid of selectedPDFs) {\r\n        await uploadMutation.mutateAsync({\r\n          pdfUuid,\r\n          accessToken\r\n        });\r\n      }\r\n      \r\n      // Clear selections after successful upload\r\n      setSelectedPDFs([]);\r\n      toast.success(`Successfully uploaded ${selectedPDFs.length} PDF(s) to Google Drive!`);\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (cloudFileUuid) => {\r\n  if (!accessToken) {\r\n    toast.error('Not authenticated with Google Drive');\r\n    return;\r\n  }\r\n\r\n  // Show confirmation dialog\r\n  if (window.confirm('Are you sure you want to remove this file from the cloud storage list? This will not delete the file from Google Drive.')) {\r\n    deleteMutation.mutate({\r\n      cloudFileUuid,\r\n      accessToken,\r\n      deleteFromCloud: false // Set to true if you want to delete from Google Drive as well\r\n    });\r\n  }\r\n};\r\n\r\n  const handleImport = (file) => {\r\n    if (!accessToken) {\r\n      toast.error('Not authenticated with Google Drive');\r\n      return;\r\n    }\r\n\r\n    importMutation.mutate({\r\n      fileId: file.id,\r\n      accessToken,\r\n      fileName: file.name\r\n    });\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (!bytes) return 'Unknown';\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-4xl h-3/4 flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b\">\r\n          <h3 className=\"text-xl font-semibold flex items-center\">\r\n            <Cloud className=\"h-6 w-6 mr-2 text-blue-600\" />\r\n            Google Drive Integration\r\n          </h3>\r\n          <button \r\n            onClick={onClose} \r\n            className=\"text-gray-500 hover:text-gray-700 p-1\"\r\n          >\r\n            <X className=\"h-6 w-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Authentication Status */}\r\n        <div className=\"px-6 py-4 bg-gray-50 border-b\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center\">\r\n              <div className={`h-3 w-3 rounded-full mr-3 ${\r\n                isAuthenticated ? 'bg-green-500' : 'bg-red-500'\r\n              }`} />\r\n              <span className=\"text-sm font-medium\">\r\n                {isAuthenticated ? 'Connected to Google Drive' : 'Not connected'}\r\n              </span>\r\n            </div>\r\n            \r\n            {isAuthenticated ? (\r\n              <button\r\n                onClick={logout}\r\n                className=\"px-4 py-2 text-sm text-red-600 hover:text-red-700 border border-red-200 rounded-lg hover:bg-red-50\"\r\n              >\r\n                Disconnect\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={authenticate}\r\n                disabled={authLoading}\r\n                className=\"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\r\n              >\r\n                {authLoading ? (\r\n                  <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                ) : (\r\n                  <Cloud className=\"h-4 w-4 mr-2\" />\r\n                )}\r\n                {authLoading ? 'Connecting...' : 'Connect to Google Drive'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {authError && (\r\n            <div className=\"mt-2 flex items-center text-red-600 text-sm\">\r\n              <AlertCircle className=\"h-4 w-4 mr-1\" />\r\n              {authError}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        {isAuthenticated && (\r\n          <div className=\"px-6 border-b\">\r\n            <div className=\"flex space-x-1\">\r\n              {[\r\n                { id: 'upload', label: 'Upload to Drive', icon: Upload },\r\n                { id: 'browse', label: 'Browse Drive', icon: FileText },\r\n                { id: 'manage', label: 'Manage Files', icon: Link }\r\n              ].map((tab) => {\r\n                const Icon = tab.icon;\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`px-4 py-3 text-sm font-medium border-b-2 flex items-center ${\r\n                      activeTab === tab.id\r\n                        ? 'border-blue-500 text-blue-600'\r\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\r\n                    }`}\r\n                  >\r\n                    <Icon className=\"h-4 w-4 mr-2\" />\r\n                    {tab.label}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 p-6 overflow-auto\">\r\n          {!isAuthenticated ? (\r\n            <div className=\"flex flex-col items-center justify-center h-full text-center\">\r\n              <Cloud className=\"h-16 w-16 text-gray-300 mb-4\" />\r\n              <h4 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                Connect to Google Drive\r\n              </h4>\r\n              <p className=\"text-gray-500 mb-6 max-w-md\">\r\n                Connect your Google Drive account to upload, download, and manage your PDF files in the cloud.\r\n              </p>\r\n              <button\r\n                onClick={authenticate}\r\n                disabled={authLoading}\r\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\r\n              >\r\n                {authLoading ? (\r\n                  <RefreshCw className=\"h-5 w-5 mr-2 animate-spin\" />\r\n                ) : (\r\n                  <Cloud className=\"h-5 w-5 mr-2\" />\r\n                )}\r\n                {authLoading ? 'Connecting...' : 'Connect to Google Drive'}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {/* Upload Tab - MODIFIED */}\r\n              {activeTab === 'upload' && (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"text-center\">\r\n                    <h4 className=\"text-lg font-medium mb-2\">Select PDFs to Upload</h4>\r\n                    <p className=\"text-gray-500 mb-6\">\r\n                      Choose which PDFs from your library to upload to Google Drive\r\n                    </p>\r\n                  </div>\r\n\r\n                  {pdfsLoading ? (\r\n                    <div className=\"flex justify-center py-8\">\r\n                      <RefreshCw className=\"h-8 w-8 animate-spin text-blue-600\" />\r\n                    </div>\r\n                  ) : userPDFs?.data?.pdfs?.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"max-h-64 overflow-y-auto border rounded-lg\">\r\n                        {userPDFs.data.pdfs.map((pdf) => (\r\n                          <div\r\n                            key={pdf.uuid}\r\n                            className=\"flex items-center p-4 border-b last:border-b-0 hover:bg-gray-50\"\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              id={`pdf-${pdf.uuid}`}\r\n                              checked={selectedPDFs.includes(pdf.uuid)}\r\n                              onChange={(e) => handlePDFSelection(pdf.uuid, e.target.checked)}\r\n                              className=\"h-4 w-4 text-blue-600 rounded mr-3\"\r\n                            />\r\n                            <FileText className=\"h-8 w-8 text-red-500 mr-3\" />\r\n                            <div className=\"flex-1\">\r\n                              <label \r\n                                htmlFor={`pdf-${pdf.uuid}`}\r\n                                className=\"font-medium cursor-pointer\"\r\n                              >\r\n                                {pdf.originalName}\r\n                              </label>\r\n                              <div className=\"text-sm text-gray-500\">\r\n                                {formatFileSize(pdf.fileSize)}  Created {formatDate(pdf.createdAt)}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          {selectedPDFs.length} of {userPDFs.data.pdfs.length} PDFs selected\r\n                        </div>\r\n                        <button\r\n                          onClick={handleUploadSelected}\r\n                          disabled={uploadMutation.isLoading || selectedPDFs.length === 0}\r\n                          className=\"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\"\r\n                        >\r\n                          {uploadMutation.isLoading ? (\r\n                            <RefreshCw className=\"h-5 w-5 mr-2 animate-spin\" />\r\n                          ) : (\r\n                            <Upload className=\"h-5 w-5 mr-2\" />\r\n                          )}\r\n                          {uploadMutation.isLoading \r\n                            ? 'Uploading...' \r\n                            : `Upload Selected (${selectedPDFs.length})`\r\n                          }\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8 text-gray-500\">\r\n                      <FileText className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\r\n                      <p>No PDFs found in your library.</p>\r\n                      <p className=\"text-sm\">Upload some PDFs first to sync them with Google Drive.</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Browse Tab - UNCHANGED */}\r\n              {activeTab === 'browse' && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h4 className=\"text-lg font-medium\">Browse Google Drive Files</h4>\r\n                    <button\r\n                      onClick={() => loadDriveFiles()}\r\n                      disabled={listFilesMutation.isLoading}\r\n                      className=\"px-3 py-2 text-sm border rounded-lg hover:bg-gray-50 flex items-center\"\r\n                    >\r\n                      <RefreshCw className={`h-4 w-4 mr-2 ${listFilesMutation.isLoading ? 'animate-spin' : ''}`} />\r\n                      Refresh\r\n                    </button>\r\n                  </div>\r\n\r\n                  {listFilesMutation.isLoading && driveFiles.length === 0 ? (\r\n                    <div className=\"flex justify-center py-8\">\r\n                      <RefreshCw className=\"h-8 w-8 animate-spin text-blue-600\" />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-3\">\r\n                      {driveFiles.map((file) => (\r\n                        <div\r\n                          key={file.id}\r\n                          className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50\"\r\n                        >\r\n                          <div className=\"flex items-center flex-1\">\r\n                            <FileText className=\"h-8 w-8 text-red-500 mr-3\" />\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"font-medium\">{file.name}</div>\r\n                              <div className=\"text-sm text-gray-500\">\r\n                                {formatFileSize(file.size)}  Modified {formatDate(file.modifiedTime)}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <div className=\"flex items-center space-x-2\">\r\n                            {file.webViewLink && (\r\n                              <button\r\n                                onClick={() => window.open(file.webViewLink, '_blank')}\r\n                                className=\"p-2 text-blue-600 hover:bg-blue-50 rounded\"\r\n                                title=\"View in Google Drive\"\r\n                              >\r\n                                <ExternalLink className=\"h-4 w-4\" />\r\n                              </button>\r\n                            )}\r\n                            \r\n                            <button\r\n                              onClick={() => handleImport(file)}\r\n                              disabled={importMutation.isLoading}\r\n                              className=\"px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center\"\r\n                            >\r\n                              {importMutation.isLoading ? (\r\n                                <RefreshCw className=\"h-4 w-4 mr-1 animate-spin\" />\r\n                              ) : (\r\n                                <Download className=\"h-4 w-4 mr-1\" />\r\n                              )}\r\n                              Import\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n\r\n                      {driveFiles.length === 0 && !listFilesMutation.isLoading && (\r\n                        <div className=\"text-center py-8 text-gray-500\">\r\n                          No PDF files found in your Google Drive\r\n                        </div>\r\n                      )}\r\n\r\n                      {nextPageToken && (\r\n                        <div className=\"text-center pt-4\">\r\n                          <button\r\n                            onClick={() => loadDriveFiles(nextPageToken)}\r\n                            disabled={listFilesMutation.isLoading}\r\n                            className=\"px-4 py-2 text-sm border rounded-lg hover:bg-gray-50\"\r\n                          >\r\n                            Load More Files\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Manage Tab - UNCHANGED */}\r\n              {/* Manage Tab - UPDATED */}\r\n{activeTab === 'manage' && (\r\n  <div className=\"space-y-4\">\r\n    <h4 className=\"text-lg font-medium\">Manage Cloud Files</h4>\r\n    \r\n    {cloudFiles?.data?.cloudFiles?.length > 0 ? (\r\n      <div className=\"space-y-3\">\r\n        {cloudFiles.data.cloudFiles.map((file) => (\r\n          <div\r\n            key={file.uuid}\r\n            className=\"flex items-center justify-between p-4 border rounded-lg\"\r\n          >\r\n            <div className=\"flex items-center flex-1\">\r\n              <FileText className=\"h-8 w-8 text-blue-500 mr-3\" />\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium\">{file.fileName}</div>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {formatFileSize(file.fileSize)}  Uploaded {formatDate(file.createdAt)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-2\">\r\n              {file.webViewLink && (\r\n                <button\r\n                  onClick={() => window.open(file.webViewLink, '_blank')}\r\n                  className=\"p-2 text-blue-600 hover:bg-blue-50 rounded\"\r\n                  title=\"View in Google Drive\"\r\n                >\r\n                  <ExternalLink className=\"h-4 w-4\" />\r\n                </button>\r\n              )}\r\n              \r\n              <button\r\n                onClick={() => handleDelete(file.uuid)}\r\n                disabled={deleteMutation.isLoading}\r\n                className=\"p-2 text-red-600 hover:bg-red-50 rounded disabled:opacity-50\"\r\n                title=\"Remove from list\"\r\n              >\r\n                {deleteMutation.isLoading ? (\r\n                  <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                ) : (\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    ) : (\r\n      <div className=\"text-center py-8 text-gray-500\">\r\n        No cloud files found for this PDF\r\n      </div>\r\n    )}\r\n  </div>\r\n)}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CloudStoragePanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}